<!doctype html>
});
}
function saveEntry(){
const text = entryEl.value.trim();
if(!text) return alert('Escreva algo antes de salvar.');
const raw = localStorage.getItem('diario_entries');
const arr = raw ? JSON.parse(raw) : [];
arr.push({t:Date.now(), text});
localStorage.setItem('diario_entries', JSON.stringify(arr));
entryEl.value='';
loadEntries();
}
saveBtn.addEventListener('click', saveEntry);
clearBtn.addEventListener('click', ()=>{
if(confirm('Apagar todas as entradas do diário?')){
localStorage.removeItem('diario_entries');loadEntries();
}
});
exportBtn.addEventListener('click', ()=>{
const raw = localStorage.getItem('diario_entries') || '[]';
const blob = new Blob([raw],{type:'application/json'});
const url = URL.createObjectURL(blob);
const a = document.createElement('a');a.href=url;a.download='diario_entries.json';a.click();URL.revokeObjectURL(url);
});
loadEntries();


// === Longread salvar/carregar ===
const longContent = document.getElementById('longContent');
const saveLong = document.getElementById('saveLong');
const loadLong = document.getElementById('loadLong');


saveLong.addEventListener('click', ()=>{
localStorage.setItem('longread_content', longContent.innerHTML);
alert('Conteúdo salvo localmente.');
});
loadLong.addEventListener('click', ()=>{
const raw = localStorage.getItem('longread_content');
if(!raw){return alert('Nenhum conteúdo salvo encontrado.');}
longContent.innerHTML = raw;alert('Conteúdo carregado.');
});


// Accessibility: fechar imagens com tecla escape (exemplo de interação)
document.addEventListener('keydown', (e)=>{if(e.key==='Escape'){document.activeElement.blur();}});


</script>
</body>
</html>
